!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){return!f.isFunction(a)&&(f.isObject(a)||f.isArray(a))}function e(a,b,c){b.apply(a,f.flatten(c))}var f=c,g=Array.prototype.slice,h=Object.prototype.toString,i=Object.prototype.hasOwnProperty;c.iterate=function k(a,b,c){a=a||[];var d=null,e=null,h=null,i=b||0,j=a&&a.length||0;c="backward"===c?c:"forward";var l=function(a,b){return d?d.call(this,a,b):a};return{length:function(){return j},data:function(){return a},index:function(){return i},direction:function(){return c},cursor:function(a){return this.data()[this.index()-1]||a&&this.next()},transform:function(a){return d=a,this},generate:function(a){return e=a,this},limit:function(a){return h=a,this},next:function(){var b,d=i,g=function(b){return a[d+b]};if(this.remaining()-1<0){if(h)if(f.isNumber(h)){if(this.cursor()>=h)return void 0}else if(h.call(this,g))return void 0;if(e&&(b=e.call(this,g)),f.isUndefined(b))return void 0}switch(c){case"forward":return f.isUndefined(b)||this.push(b),l.call(this,a[i++],g);case"backward":return f.isUndefined(b)||this.push(1,b),l.call(this,a[--i],g)}},move:function(a,b){if(b=b||{},b.relative)switch(c){case"forward":a+=i;break;case"backward":a=i-a+1}if(!b.unsafe&&(0>a||a>this.length()))throw new Error("RaptorJuice.iterate.move: Trying to move the cursor to a non-existent index.");return i=a,this},skip:function(a){return this.move(a,{relative:!0}),this},fire:function(a,b){for(b=b||b&&a,a=a?a:0,this.move(a,!b);this.remaining();)this.next();return this},prev:function(){var a=this.reverse().next();return this.reverse(),a},remaining:function(){var a;switch(c){case"forward":a=this.length()-this.index(),a=a>=0?a:0;break;case"backward":a=this.index()}return a},reverse:function(a){return c="forward"===c?"backward":"forward",a&&a.discard&&this.next(),this},reset:function(){return this.reverse().deplete().reverse()},copy:function(b){return k(g.call(a),b||this.index(),c)},reversed:function(){return this.copy().deplete().reverse()},deplete:function(){switch(c){case"forward":i=j;break;case"backward":i=0}return this},push:function(b,c){if(f.isUndefined(c)){if(f.isUndefined(b))return this;c=b,b=j}return b<this.index()&&(i+=c.length),this.length()&&b===this.length()&&(b+=1),a=[].concat(a.slice(0,b-1),c,a.slice(b-1)),j=a.length,this},pop:function(b,c){if(c=c||1,b=(b||j)-1,0>b||1>c)return void 0;if(!(j>=b+c))return void 0;this.index()>b&&this.index()<=c&&(i=b),b+c<=this.index()&&(i-=c);var d=a;return a=[].concat(a.slice(0,b),a.slice(b+c)),j=a.length,d.slice(b,b+c)},filter:function(b){var c=0,d=[],e=[];return f.each(a,function(a,f){b(a,i)?d.push(a):(e.push(a),i>=f&&c++)}),i-=c,j=d.length,a=d,e}}},c.chain=function(){var a=f.iterate(),b=f.iterate(),c=0,d=0,e={next:function(){if(!b.remaining()){if(!a.remaining())return void 0;b=a.next()}return d++,b.next()},index:function(){return d},remaining:function(){return c-d},add:function(){for(var b,d=f.iterate(g.apply(arguments));d.remaining();)b=d.next(),c+=b.remaining(),a.push([b]);return this}};return e.add.apply(e,arguments)},c.populate=function(a,b){f.iterate(b).transform(function(b,c){a[b]=c(1),this.skip(1)}).fire()},c.ensure=function(a,b,c,d){return d?f.isUndefined(a[b])||f.isObject(a[b])?a[b]=a[b]||c||{}:void 0:a[b]=a[b]||c||{}},c.unwrap=function(a,b,c){var e,g,h,i=f.iterate(f.sanitize(f.sanitize(b,"."),":").split(".")).transform(function(a){return a=f.iterate(a.split(":")),{key:a.pop(1)[0],indicies:a}}),j=[],k=a;return function l(a){if(!c&&!d(k))return k=void 0;for(g=void 0,e=a.key,h=a.indicies,parent=k,k=f.ensure(k,e,null,!c),c&&!d(k)&&(k=parent[e]={}),j.push({object:k,parent:parent,key:e});h.remaining();){if(!c&&!d(k))return k=void 0;e=void 0,g=h.next(),parent=k,k=f.ensure(k,g),c&&!d(k)&&(k=parent[g]={}),j.push({object:k,parent:parent,index:g})}i.remaining()&&l(i.next())}(i.next()),{nodes:j,object:k,parent:parent,key:e,index:g,root:a,path:b}},c.set=function(a,b,c,d){var e=f.unwrap(a,b,d);if(!e.object)throw new Error("RaptoJuice.set: Trying to overwrite data or set a property on an object which cannot have one.");return e.parent[e.key||e.index]=c},c.get=function(a,b){return f.unwrap(a,b).object},c.log=function(){console.log.apply(console,arguments)},c.toString=function(){return h.apply(arguments)},c.has=function(a,b){return i.call(a,b)},c.contains=function(a,b){return!(a.indexOf(b)<0)},c.count=function(a,b){var c=0;for(var d in a)a[d]===b&&c++;return c},c.each=function(a,b){if(a)for(var c=-1;a[++c];)b(a[c],c+1,a.length)};var j=["Arguments","Function","String","Number","Date","RegExp"];c.each(j,function(a){c["is"+a]=function(b){return h.call(b)==="[object "+a+"]"}}),c.isUndefined=function(a){return"undefined"==typeof a},c.isDefined=function(a){return!f.isUndefined(a)},c.isObject=function(a){return a===Object(a)},c.isArray=function(a){return"[object Array]"===h.call(a)},c.isEmpty=function(a){if(null===a)return!0;if(f.isArray(a)||f.isString(a))return 0===a.length;for(var b in a)return!1;return!0},c.every=function(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a)===!1)return!1;return!0},c.flatten=function(a,b,c,d){b=b||[],c=c||1,d=d?d+1:1;for(var e in a)f.isArray(a[e])&&(0>c||c>=d)?f.flatten(a[e],b,c,d):b.push(a[e]);return b},c.squash=function(a){return f.flatten(a,[],-1)},c.waterfall=function(a,b,c,d){var h=0,i=null,j=function(){var k=g.call(arguments);k[0]instanceof Error&&(i=k.shift()),f.isEmpty(k)||(c=k),h>=a.length-1||i?b&&e(d,b,[i,c]):a[++h]&&e(d,a[h],[j,c])};a[0]?e(d,a[0],[j,c]):b&&e(d,b,[i,c])},c.token=function(a,b){var c=new RegExp(a,"g");return function(a){return a.replace(c,b)}},c.tokenize=function(a,b){var c=a;return f.each(b,function(a){c=a(c)}),c},c.regify=function(a){return a.replace(/:([^\/]+)/gi,function(a,b){switch(a[1]){case":":return b;default:return"([._a-zA-Z0-9-]+)"}})},c.group=function(a,b,c,d,e){e=!e,a=f.iterate(a);for(var g,h,i=f.iterate().generate(function(){return[[]]}),j=0,k=0,l=0;h=a.next();){g=g||i.next();for(var m=f.iterate(h);m.remaining();)switch(m.next()){case c:k++;break;case d:l++}g.push(h),j=+k-l,0===j&&a.remaining()&&(g=i.next())}if(j&&e)throw new Error("RaptorJuice.group: Improperly terminated groups.");var n=[];for(i.reset();i.remaining();)n.push(i.next().join(b));return f.flatten(n)},c.sanitize=function(a,b,c,d,e){c=c||1,d=d||1;var g=f.isDefined(e);e=e?1>e?-1:1:0;for(var h=RegExp("\\"+b+"{"+c+",}","g"),i=[],j=0;d>j;j++)i.push(b);if(i=i.join(""),a=a.replace(h,i),g&&!e)return a;var k=e?"":"|";return 0>=e&&(k="^\\"+b+"+"+k),e>=0&&(k+="\\"+b+"+$"),a.replace(RegExp(k,"g"),"")},c.split=function(a,b){var c=a.split(b);return f.group(c,b,"(",")")},c.parse=function(a,b,c){var d=f.tokenize(a,c),e=f.sanitize(d,b);return f.split(f.regify(e),b)}},{}]},{},[1]);